<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button id="btn">click</button>
    <script>
        // 执行上下文：当前代码 解析 及 执行 时所在的环境 (主要是this， 执行环境中所有的变量和函数都会绑定到这个对象上)
        // 极客时间
        // 执行上下文是js执行一段代码时的运行环境，确定执行期间用到的this, 变量，对象以及函数等（变量环境，词法环境，外部环境，this）
        // 执行上下文中存在一个变量环境对象，该对象中保存了变量提升的内容
        // js引擎遇见一个函数定义，会将函数定义存储到堆中，并在变量环境中创建一个对应名称属性，将该属性指向堆中函数的位置
        // js引擎遇见变量声明，会在变量环境中创建一个对应的名称属性，并且初始化属性值为undefined
        // js引擎会将声明之外的代码编译为字节码（可执行代码） 


        // 全局上下文:  只有一个，浏览器中的全局对象window， 全局作用域下this指向window
        // 函数上下文: 多个, 只有函数被调用时才会被创建，每次函数被调用都生成一个新的执行上下文， 函数中this的指向取决于函数的调用方式
        // eval: 不建议使用

        // 执行栈： 调用栈， 具有后进先出结构（栈）, 用于存储代码在执行期间创建的所有执行上下文
        // 当js第一次运行，创建全局上下文并将全局上下文push到执行栈中，每当有函数被调用，引擎会为每一个函数创建一个函数上下文Push到执行栈的栈顶，当栈顶函数运行完成后，
        // 其对应的上下文将从执行栈中pop, 上下文的控制权将移到当前执行栈的下一个上下文
        document.getElementById('btn').onclick = function() {
            const a = {name: 'namaa', age: '123', gender: 'male'}
            console.log('before', a)
            a.img = a.name
            delete a.name
            console.log('after', a)
        }
        
    </script>
</body>
</html>