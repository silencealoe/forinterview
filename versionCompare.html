<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=<device-width>, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // 版本号比较大小
        // rc>beta>alpha
        // 例如： 4.2.1 > 3.2.0 > 2.3.0-rc > 2.3.0-beta > 2.3.0-alpha > 2.3.0
        // a > b return 1
        // a = b return 0
        // a < b return -1
        function compare(v1, v2) {
            let hasChar1 = v1.indexOf('-')
            let hasChar2 = v2.indexOf('-')
           let v1NumArr = v1.split('.')
           console.log(v1NumArr)
           let v2NumArr = v2.split('.')
            let i = 0
            while (i < v1NumArr.length) {
                const dis = parseInt(v1NumArr[i])  - parseInt(v2NumArr[i]) 
                if(dis > 0) return 1
                if(dis < 0) return -1
                i++
                console.log('i', i)
            }
            if(i === v1NumArr.length) { // 数字相等
                if(hasChar2<0 && hasChar1 <0) return 0
                if (hasChar1 > 0 && hasChar2 < 0) return 1
                if (hasChar2 > 0 && hasChar1 < 0) return -1
                if(v1.substring(hasChar1) > v2.substring(hasChar2)) {
                    return 1 
                } else {
                    return -1
                }
                if(v1.substring(hasChar1) === v2.substring(hasChar2)) {
                    return 0
                }
            }
        }
        // --
        function compare2(v1, v2) {
            let v1NumArr = v1.split('.')
            let v2NumArr = v2.split('.')
            for (let i = 0; i < v1NumArr.length; i++) {
                const dis = parseInt(v1NumArr[i]) - parseInt(v2NumArr[i])
                if(dis > 0) return 1
                if(dis < 0) return -1
                if (i === v1NumArr.length - 1) {
                    if (v1NumArr[i] === v2NumArr[i]) return 0
                    const res = v1NumArr[i].substring(v1NumArr[i].indexOf('-') + 1) > v2NumArr[i].substring(v2NumArr[i].indexOf('-') + 1) 
                    return res ? 1 : -1
                }
            }
        }
        console.log(compare2('3.12.0-rc', '3.12.1'))
               
    </script>
</body>
</html>