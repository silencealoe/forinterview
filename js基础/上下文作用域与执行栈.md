
## 执行上下文
当前代码 解析 及 执行 时所在的环境 (主要是this， 执行环境中所有的变量和函数都会绑定到这个对象上)
执行上下文是js执行一段代码时的运行环境，确定执行期间用到的this, 变量，对象以及函数等（变量环境，词法环境，外部环境，this）
* 执行上下文中存在一个变量环境对象，该对象中保存了变量提升的内容
* js引擎遇见一个函数定义，会将函数定义存储到堆中，并在变量环境中创建一个对应名称属性，将该属性指向堆中函数的位置
* js引擎遇见变量声明，会在变量环境中创建一个对应的名称属性，并且初始化属性值为undefined
* js引擎会将声明之外的代码编译为字节码（可执行代码） 


- 全局上下文:  只有一个，浏览器中的全局对象window， 全局作用域下this指向window
- 函数上下文: 多个, 只有函数被调用时才会被创建，每次函数被调用都生成一个新的执行上下文， 函数中this的指向取决于函数的调用方式
- eval: 不建议使用

## 执行栈： 调用栈， 具有后进先出结构（栈）, 用于存储代码在执行期间创建的所有执行上下文
当js第一次运行，创建全局上下文并将全局上下文push到执行栈中，每当有函数被调用，引擎会为每一个函数创建一个函数上下文Push到执行栈的栈顶，当栈顶函数运行完成后，
其对应的上下文将从执行栈中pop, 上下文的控制权将移到当前执行栈的下一个上下文

## 作用域
变量与函数可以访问的范围
* 全局作用域： 作用域中的变量在任何地方都能够访问到，变量的生命周期跟随页面的生命周期
* 函数作用域： 函数中定义的变量只能在函数中访问，函数执行完成，变量随之销毁
* 块级作用域： 只能在块里面访问， 代码执行完成后，变量随之销毁
## js如何支持块级作用域
var 声明的变量放入上下文中的变量环境， let const 声明的变量放入词法环境, 按块级作用域划分压入到词法环境栈中 
访问变量时 先去词法环境中从栈顶开始查找，如果找到则停止，没有找到则到变量环境中查找

let 和 const 在块级作用域中 ，初始化变量之前 存在暂时性死区，无法访问变量

## 词法作用域
词法作用域是引擎如何寻找变量以及在何处寻找变量的规则，
词法作用域是指作用域是  。、

* 动态作用域 （在运行时确定）this的指向 跟函数的调用有关系 

## 怎么理解闭包？
我的理解：一个函数中有另外一个函数的访问权力，根据词法作用域查找变量
内部函数可以访问外部函数的变量，通过调用外部函数，返回内部函数后，即使外部函数已经执行结束，但是内部函数引用外部函数的变量依然保存在内存中，这些被保存下来的变量的集合就是闭包

内部访问所在词法作用域变量 并在其他词法作用域调用
## 闭包的设计含义？
全局作用域中访问函数作用域中的变量：通过在函数内部返回一个内部函数来实现
## 闭包的应用？
节流防抖  柯里化函数 模仿块级作用域(立即执行) 


